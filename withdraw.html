<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Banking Service</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body style="background-image: url('https://images.pexels.com/photos/164527/pexels-photo-164527.jpeg?cs=srgb&dl=rich-business-money-164527.jpg&fm=jpg');background-size: cover;">
  <div style="background-color: rgb(55, 52, 52); margin-left: 60px;" class="me-5 rounded">
    <h1 class="text-center" style="margin-top: 50px; color: aliceblue;">Welcome User</h1>
    <h3 class="text-center container-fluid" style="color: antiquewhite;">Online Banking Service</h3>
  </div>

  <div class="row">
    <!-- Deposit Section -->
    <div class="col border border-light me-5 rounded" style="background-color: rgb(239, 232, 232); box-shadow: 5px 10px 18px #888888; height: 400px; width: 50px; margin-top: 50px; margin-left: 60px; opacity: 0.8;">
      <h1 class="text-center" style="margin-top: 100px; color: rgb(10, 10, 228);">Deposit</h1>
      <input id="amnt" type="text" class="form-control" style="margin-top: 20px; width: 45%; margin-left: 25%;" placeholder="Enter Your Amount">
      <input id="acnt" type="text" class="form-control" style="margin-top: 20px; width: 45%; margin-left: 25%;" placeholder="Enter Your Account Number">
      <button class="btn btn-primary rounded" style="margin-left: 40%; margin-top: 30px;" onclick="deposit()">Deposit</button>
      <div id="result" class="text-center"></div>
    </div>

    <!-- Withdraw Section -->
    <div class="col border border-light me-5 rounded" style="background-color: rgb(239, 232, 232); box-shadow: 5px 10px 18px #888888; height: 400px; margin-right: 100px; margin-top: 50px; opacity: 0.8;">
      <h1 class="text-center" style="margin-top: 100px; color: rgb(10, 10, 228);">Withdraw</h1>
      <input id="wamnt" type="text" class="form-control" style="margin-top: 20px; width: 45%; margin-left: 25%;" placeholder="Enter Your Amount">
      <input id="wacnt" type="text" class="form-control" style="margin-top: 20px; width: 45%; margin-left: 25%;" placeholder="Enter Your Account Number">
      <button class="btn btn-primary rounded" style="margin-left: 40%; margin-top: 30px;" onclick="withdraw()">Withdraw</button>
      <div id="wres" class="text-center"></div>
    </div>
  </div>

  <script>
    function deposit() {
      let amount = Number(document.getElementById('amnt').value);
      const acntnum = document.getElementById('acnt').value;
      amount = Math.floor(amount);

      const result = document.getElementById('result');

      if (acntnum in localStorage) {
        const account = JSON.parse(localStorage.getItem(acntnum));
        account.balance = Number(account.balance) || 0;

        if (amount <= 0) {
          alert("Please enter a valid amount.");
        } else {
          account.balance += amount;
          localStorage.setItem(acntnum, JSON.stringify(account));
          alert("Amount added successfully!");
          result.innerHTML = `<p class="text-dark mt-3 fw-bold">Your current balance is ${account.balance}</p>`;
        }
      } else {
        alert("Please enter a valid account number.");
      }
    }

    function withdraw() {
      let amount = Number(document.getElementById('wamnt').value);
      const acntnum = document.getElementById('wacnt').value;
      amount = Math.floor(amount);

      const wres = document.getElementById('wres');

      if (acntnum in localStorage) {
        const account = JSON.parse(localStorage.getItem(acntnum));
        account.balance = Number(account.balance) || 0;

        if (amount <= 0) {
          alert("Please enter a valid amount.");
        } else if (amount > account.balance) {
          alert("Insufficient funds!");
        } else {
          alert(`Bank balance before withdrawal: ${account.balance}`);
          alert(`Withdrawal amount: ${amount}`);
          account.balance -= amount;
          alert("Your amount is successfully withdrawn.");
          localStorage.setItem(acntnum, JSON.stringify(account));
          alert(`After withdrawal, balance: ${account.balance}`);
          wres.innerHTML = `<p class="text-dark mt-3 fw-bold">Your current balance is ${account.balance}</p>`;
        }
      } else {
        alert("Please enter a valid account number.");
      }
    }
  </script>
</body>
</html>

